{
  "version": 3,
  "sources": [],
  "sections": [
<<<<<<< HEAD
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/xampp/htdocs/nexus_malls/nexus_panel/lib/axios.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_BACKEND_URL_API, // Replace with your API URL\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem('auth_token');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\nexport default api;"],"names":[],"mappings":";;;AAAA;AAGa;;AADb,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,OAAO;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file://C%3A/xampp/htdocs/nexus_malls/nexus_panel/contexts/AuthContext.js"],"sourcesContent":["\"use client\";\r\nimport React, { createContext, useState, useEffect, useContext } from \"react\";\r\nimport api from \"@/lib/axios\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n  const [logoutTimer, setLogoutTimer] = useState(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"auth_token\");\r\n        if (token) {\r\n          api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n          const response = await api.get(\"/user\");\r\n          setUser(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch user data:\", error.response?.data || error.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const login = async (credentials) => {\r\n    try {\r\n      const response = await api.post(\"/login\", credentials);\r\n      const { token, user } = response.data;\r\n      localStorage.setItem(\"auth_token\", token);\r\n      api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n      setUser(user);\r\n      scheduleAutoLogout(2 * 60 * 60 * 1000); // 2 hours\r\n      router.push(\"/dashboard\");\r\n    } catch (error) {\r\n      console.error(\"Login failed:\", error.response?.data || error.message);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    setIsLoggingOut(true);\r\n    try {\r\n      await api.post(\"/logout\");\r\n      localStorage.removeItem(\"auth_token\");\r\n      delete api.defaults.headers.common[\"Authorization\"];\r\n      setUser(null);\r\n      clearAutoLogout();\r\n      router.push(\"/\"); // Ensure client-side navigation\r\n    } catch (error) {\r\n      console.error(\"Error logging out:\", error.response?.data || error.message);\r\n    } finally {\r\n      setIsLoggingOut(false);\r\n    }\r\n  };\r\n\r\n  const scheduleAutoLogout = (timeout) => {\r\n    clearAutoLogout();\r\n    const timer = setTimeout(() => {\r\n      logout();\r\n    }, timeout);\r\n    setLogoutTimer(timer);\r\n  };\r\n\r\n  const clearAutoLogout = () => {\r\n    if (logoutTimer) {\r\n      clearTimeout(logoutTimer);\r\n      setLogoutTimer(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => clearAutoLogout();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, isLoading, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":"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"}},
=======
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/xampp/htdocs/nexus_malls/nexus_development/lib/axios.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_BACKEND_URL_API, // Replace with your API URL\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem('auth_token');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\nexport default api;"],"names":[],"mappings":";;;AAAA;AAGa;;AADb,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,OAAO;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file://C%3A/xampp/htdocs/nexus_malls/nexus_development/contexts/AuthContext.js"],"sourcesContent":["\"use client\";\r\nimport React, { createContext, useState, useEffect, useContext } from \"react\";\r\nimport api from \"@/lib/axios\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n  const [logoutTimer, setLogoutTimer] = useState(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"auth_token\");\r\n        if (token) {\r\n          api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n          const response = await api.get(\"/user\");\r\n          setUser(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch user data:\", error.response?.data || error.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const login = async (credentials) => {\r\n    try {\r\n      const response = await api.post(\"/login\", credentials);\r\n      const { token, user } = response.data;\r\n      localStorage.setItem(\"auth_token\", token);\r\n      api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n      setUser(user);\r\n      scheduleAutoLogout(2 * 60 * 60 * 1000); // 2 hours\r\n      router.push(\"/dashboard\");\r\n    } catch (error) {\r\n      console.error(\"Login failed:\", error.response?.data || error.message);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    setIsLoggingOut(true);\r\n    try {\r\n      await api.post(\"/logout\");\r\n      localStorage.removeItem(\"auth_token\");\r\n      delete api.defaults.headers.common[\"Authorization\"];\r\n      setUser(null);\r\n      clearAutoLogout();\r\n      router.push(\"/\"); // Ensure client-side navigation\r\n    } catch (error) {\r\n      console.error(\"Error logging out:\", error.response?.data || error.message);\r\n    } finally {\r\n      setIsLoggingOut(false);\r\n    }\r\n  };\r\n\r\n  const scheduleAutoLogout = (timeout) => {\r\n    clearAutoLogout();\r\n    const timer = setTimeout(() => {\r\n      logout();\r\n    }, timeout);\r\n    setLogoutTimer(timer);\r\n  };\r\n\r\n  const clearAutoLogout = () => {\r\n    if (logoutTimer) {\r\n      clearTimeout(logoutTimer);\r\n      setLogoutTimer(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => clearAutoLogout();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, isLoading, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAEzB,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;oDAAY;oBAChB,IAAI;wBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;wBACnC,IAAI,OAAO;4BACT,+GAAA,CAAA,UAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;4BAChE,MAAM,WAAW,MAAM,+GAAA,CAAA,UAAG,CAAC,GAAG,CAAC;4BAC/B,QAAQ,SAAS,IAAI;wBACvB;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,8BAA8B,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;oBACnF,SAAU;wBACR,aAAa;oBACf;gBACF;;YAEA;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACnB,IAAI;YACF,MAAM,WAAW,MAAM,+GAAA,CAAA,UAAG,CAAC,IAAI,CAAC,UAAU;YAC1C,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;YACrC,aAAa,OAAO,CAAC,cAAc;YACnC,+GAAA,CAAA,UAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;YAChE,QAAQ;YACR,mBAAmB,IAAI,KAAK,KAAK,OAAO,UAAU;YAClD,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;YACpE,MAAM;QACR;IACF;IAEA,MAAM,SAAS;QACb,gBAAgB;QAChB,IAAI;YACF,MAAM,+GAAA,CAAA,UAAG,CAAC,IAAI,CAAC;YACf,aAAa,UAAU,CAAC;YACxB,OAAO,+GAAA,CAAA,UAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB;YACnD,QAAQ;YACR;YACA,OAAO,IAAI,CAAC,MAAM,gCAAgC;QACpD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;QAC3E,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,qBAAqB,CAAC;QAC1B;QACA,MAAM,QAAQ,WAAW;YACvB;QACF,GAAG;QACH,eAAe;IACjB;IAEA,MAAM,kBAAkB;QACtB,IAAI,aAAa;YACf,aAAa;YACb,eAAe;QACjB;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR;0CAAO,IAAM;;QACf;iCAAG,EAAE;IAEL,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAW;YAAO;QAAO;kBAC3D;;;;;;AAGP;GAjFa;;QAKI,qIAAA,CAAA,YAAS;;;KALb;AAmFN,MAAM,UAAU;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAW;IAAtC"}},
>>>>>>> 8dd798fef5644edf0629216a980778b77c43821f
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}